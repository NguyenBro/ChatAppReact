{"version":3,"file":"static/js/998.83a5ab36.chunk.js","mappings":"uMA0FA,UAtFA,SAAsB,GAAW,IAATA,EAAI,EAAJA,KACdC,EAAQ,IAAMC,KAAKC,KAAKD,KAAKE,KAAKJ,EAAKK,SAC7C,GAAwBC,EAAAA,EAAAA,WAAS,GAAM,eAAhCC,EAAI,KAAEC,EAAO,KACpB,GAAsBF,EAAAA,EAAAA,UAAS,IAAG,eAA3BG,EAAG,KAAEC,EAAM,KA8BlB,OACI,iBAAKC,UAAU,wBAAuB,UACjCX,EAAKY,KAAI,SAACC,EAAOC,GACd,OAAgC,IAA5BD,EAAME,QAAQ,UAEV,gBACIC,QAAS,kBAfT,SAACP,GACrBC,EAAOD,GACPD,GAAQ,EACZ,CAYuCS,CAAgBJ,EAAM,EACrCF,UAAU,oBAEVO,IAAKL,EACLM,IAAI,GACJC,MAAK,UAAKnB,EAAK,KACfoB,OAAM,UAAKpB,EAAK,MAJXa,IAST,kBACIQ,UAAQ,EAERJ,IAAKL,EACLM,IAAI,GACJC,MAAK,UAAKnB,EAAK,KACfoB,OAAM,UAAKpB,EAAK,MAJXa,EAQrB,KACA,UAAC,IAAK,CACFS,KAAK,KACLC,UAAQ,EACRjB,KAAMA,EACNkB,OAAQ,kBAAMjB,GAAQ,EAAM,EAC5BG,UAAU,2BAA0B,WAEpC,UAAC,WAAY,CAACA,UAAU,6BAA4B,WAChD,gBAAKA,UAAU,cAAa,UACxB,cACIA,UAAU,0DACVK,QApED,WACnBU,IAAM,CACFjB,IAAKA,EACLkB,OAAQ,MACRC,aAAc,SAEbC,MAAK,SAACC,GACH,IAAMrB,EAAMsB,OAAOC,IAAIC,gBACnB,IAAIC,KAAK,CAACJ,EAASK,QAEjBC,EAAOC,SAASC,cAAc,KACpCF,EAAKG,KAAO9B,EACZ2B,EAAKI,aAAa,YAAY,IAAIC,MAAOC,UAAY,QACrDN,EAAKO,MAAMC,QAAU,OACrBP,SAASQ,KAAKC,YAAYV,GAC1BA,EAAKW,QACLV,SAASQ,KAAKG,YAAYZ,EAC9B,IACCa,OAAM,SAACC,GAAC,OAAKC,QAAQC,IAAIF,EAAE,GACpC,OAoDgB,cACIvC,UAAU,2CACVK,QAjDI,WACpBN,EAAO,IACPF,GAAQ,EACZ,QAiDY,SAAC,IAAK,CAACU,IAAKT,SAI5B,C","sources":["layout/content/ChatContent/Component/Message/ImageMessage.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Modal, Image } from \"react-bootstrap\";\nimport axios from \"axios\";\n\nfunction ImageMessage({ list }) {\n    const WIDTH = 100 / Math.ceil(Math.sqrt(list.length));\n    const [show, setShow] = useState(false);\n    const [url, setUrl] = useState(\"\");\n    const downloadDriect = () => {\n        axios({\n            url: url,\n            method: \"GET\",\n            responseType: \"blob\", // important\n        })\n            .then((response) => {\n                const url = window.URL.createObjectURL(\n                    new Blob([response.data])\n                );\n                const link = document.createElement(\"a\");\n                link.href = url;\n                link.setAttribute(\"download\", new Date().getTime() + \".png\");\n                link.style.display = \"none\";\n                document.body.appendChild(link);\n                link.click();\n                document.body.removeChild(link);\n            })\n            .catch((e) => console.log(e));\n    };\n    const handleShowImage = (url) => {\n        setUrl(url);\n        setShow(true);\n    };\n    const handleHideImage = () => {\n        setUrl(\"\");\n        setShow(false);\n    };\n\n    return (\n        <div className=\"childMessage__listImg\">\n            {list.map((value, index) => {\n                if (value.indexOf(\"image\") !== -1) {\n                    return (\n                        <img\n                            onClick={() => handleShowImage(value)}\n                            className=\"messageImage__fit\"\n                            key={index}\n                            src={value}\n                            alt=\"\"\n                            width={`${WIDTH}%`}\n                            height={`${WIDTH}%`}\n                        />\n                    );\n                } else {\n                    return (\n                        <video\n                            controls\n                            key={index}\n                            src={value}\n                            alt=\"\"\n                            width={`${WIDTH}%`}\n                            height={`${WIDTH}%`}\n                        />\n                    );\n                }\n            })}\n            <Modal\n                size=\"lg\"\n                centered\n                show={show}\n                onHide={() => setShow(false)}\n                className=\"ImageMessage__modal-body\"\n            >\n                <Modal.Header className=\"ImageMessage__modal-header\">\n                    <div className=\"flex-grow-1\">\n                        <i\n                            className=\"bi bi-arrow-down-square ImageMessage__modalbtn-download\"\n                            onClick={downloadDriect}\n                        ></i>\n                    </div>\n                    <i\n                        className=\"bi bi-x-lg ImageMessage__modalbtn-cancel\"\n                        onClick={handleHideImage}\n                    ></i>\n                </Modal.Header>\n                <Image src={url} />\n            </Modal>\n        </div>\n    );\n}\n\nexport default ImageMessage;"],"names":["list","WIDTH","Math","ceil","sqrt","length","useState","show","setShow","url","setUrl","className","map","value","index","indexOf","onClick","handleShowImage","src","alt","width","height","controls","size","centered","onHide","axios","method","responseType","then","response","window","URL","createObjectURL","Blob","data","link","document","createElement","href","setAttribute","Date","getTime","style","display","body","appendChild","click","removeChild","catch","e","console","log"],"sourceRoot":""}